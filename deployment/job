#!/bin/bash

# Navigate to your repository
cd /path/to/your/repository

# Fetch the latest changes from the remote repository
git fetch

# Check if there are new commits in the specific branch
if [ "$(git rev-parse HEAD)" != "$(git rev-parse @{u})" ]; then
  # If there are new commits, pull them and run the update
  git pull
  kubectl apply -f deployment/prod
  python deployment/transfer.py
fi