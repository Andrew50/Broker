import{s as D,f as g,a as b,l as O,g as w,h as q,A as x,c as I,m as z,d as N,j as c,i as F,x as l,C as P,B as y,n as H,y as M,D as K,z as V}from"../chunks/scheduler.VY-UclLW.js";import{S as G,i as J}from"../chunks/index.QBX9jeLG.js";import{g as L}from"../chunks/navigation.CfJo0_JX.js";import{w as Q}from"../chunks/index.kYg0fxAy.js";import{p as j,a as R,s as W,b as X,w as Y}from"../chunks/store.B2EyIDYf.js";function Z(n){let u,t,d,_="Sign In",p,s,C,a,k,h,T="Sign In",U,f,i="Create Account",m,e,E,S,A;return{c(){u=g("main"),t=g("div"),d=g("h1"),d.textContent=_,p=b(),s=g("input"),C=b(),a=g("input"),k=b(),h=g("button"),h.textContent=T,U=b(),f=g("button"),f.textContent=i,m=b(),e=g("p"),E=O(n[2]),this.h()},l(o){u=w(o,"MAIN",{class:!0});var v=q(u);t=w(v,"DIV",{class:!0});var r=q(t);d=w(r,"H1",{"data-svelte-h":!0}),x(d)!=="svelte-2pvnq6"&&(d.textContent=_),p=I(r),s=w(r,"INPUT",{type:!0,placeholder:!0,class:!0}),C=I(r),a=w(r,"INPUT",{type:!0,placeholder:!0,class:!0}),k=I(r),h=w(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(h)!=="svelte-1j6heuc"&&(h.textContent=T),U=I(r),f=w(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(f)!=="svelte-1kk0px1"&&(f.textContent=i),m=I(r),e=w(r,"P",{class:!0});var B=q(e);E=z(B,n[2]),B.forEach(N),r.forEach(N),v.forEach(N),this.h()},h(){c(s,"type","text"),c(s,"placeholder","Username"),c(s,"class","svelte-877in5"),c(a,"type","password"),c(a,"placeholder","Password"),c(a,"class","svelte-877in5"),c(h,"class","svelte-877in5"),c(f,"class","create-account-btn svelte-877in5"),c(e,"class","error-message svelte-877in5"),c(t,"class","container svelte-877in5"),c(u,"class","svelte-877in5")},m(o,v){F(o,u,v),l(u,t),l(t,d),l(t,p),l(t,s),P(s,n[0]),l(t,C),l(t,a),P(a,n[1]),l(t,k),l(t,h),l(t,U),l(t,f),l(t,m),l(t,e),l(e,E),S||(A=[y(s,"input",n[7]),y(s,"keydown",n[4]),y(a,"input",n[8]),y(a,"keydown",n[4]),y(h,"click",n[9]),y(f,"click",n[10])],S=!0)},p(o,[v]){v&1&&s.value!==o[0]&&P(s,o[0]),v&2&&a.value!==o[1]&&P(a,o[1]),v&4&&H(E,o[2])},i:M,o:M,d(o){o&&N(u),S=!1,K(A)}}}function $(n,u,t){let d,_="",p="";const s=Q("");V(n,s,i=>t(2,d=i));function C(i){i.key==="Enter"&&a(_,p)}async function a(i,m){try{const e=await j(null,"signin",i,m);if(e&&e.access_token)R.set(e.access_token),W.set(e.settings),X.set(e.setups),Y.set(e.watchlists),await L("/chart");else throw new Error("Invalid Credentials")}catch(e){s.set(e),m=""}}async function k(i,m){try{await j(null,"signup",i,m),await a(i,m)}catch(e){s.set(e.message||"Failed to create account")}}function h(){_=this.value,t(0,_)}function T(){p=this.value,t(1,p)}return[_,p,d,s,C,a,k,h,T,()=>a(_,p),()=>k(_,p)]}class lt extends G{constructor(u){super(),J(this,u,$,Z,D,{})}}export{lt as component};
